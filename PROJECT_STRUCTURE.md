# AIBrowseX Project Structure

```
AIBrowseX/
│
├── 📄 package.json              # Node.js project configuration & dependencies
├── 📄 .env.example              # Environment variables template
├── 📄 .env                      # Your actual config (CREATE THIS!)
├── 📄 .gitignore                # Git ignore rules
├── 📄 README.md                 # Project overview & documentation
├── 📄 SETUP.md                  # Detailed setup instructions
├── 📄 QUICKSTART.md             # Quick start guide
├── 📄 LICENSE                   # MIT License
│
├── 🔧 main.js                   # Electron main process (window management)
├── 🔧 preload.js                # Secure IPC bridge (renderer ↔ main)
│
├── 🎨 renderer/                 # Frontend UI Layer
│   ├── index.html              # Main browser interface HTML
│   ├── styles.css              # Dark theme styling
│   └── renderer.js             # UI logic & event handlers
│
├── 🗄️ db/                       # Database Layer
│   └── database.js             # SQLite operations (bookmarks, history, settings)
│
├── 🐍 backend/                  # FastAPI Backend
│   ├── main.py                 # API endpoints & Claude integration
│   ├── requirements.txt        # Python dependencies
│   ├── .gitignore              # Python-specific ignores
│   └── venv/                   # Python virtual environment (auto-created)
│       ├── bin/                # (Linux/macOS)
│       ├── Scripts/            # (Windows)
│       └── lib/
│
├── 🖼️ assets/                   # Application Resources
│   ├── icon.png                # App icon (256x256)
│   ├── icon.ico                # Windows icon
│   ├── icon.icns               # macOS icon
│   └── README.md               # Assets documentation
│
├── 🚀 setup.sh                  # Linux/macOS setup script
├── 🚀 setup.bat                 # Windows setup script
│
└── 📦 dist/                     # Build Output (created by electron-builder)
    ├── win/                    # Windows builds
    ├── mac/                    # macOS builds
    └── linux/                  # Linux builds
```

## 📋 File Descriptions

### Configuration Files

- **package.json**: Defines Node.js dependencies, scripts, and electron-builder config
- **.env**: Your environment variables (API keys, settings)
- **.env.example**: Template for environment variables
- **.gitignore**: Files/folders to exclude from version control

### Electron Files

- **main.js**: 
  - Creates browser window
  - Manages IPC communication
  - Handles bookmarks, history, AI requests
  - Database initialization

- **preload.js**:
  - Secure bridge between renderer and main process
  - Exposes safe APIs to frontend
  - Implements context isolation

### Frontend (renderer/)

- **index.html**:
  - Browser UI structure
  - Navigation bar, tabs, address bar
  - AI sidebar with chat/summary/analyze tabs
  - Modals for bookmarks & history

- **styles.css**:
  - Modern dark theme design
  - Responsive layout
  - Animations and transitions
  - Cross-browser compatibility

- **renderer.js**:
  - Tab management
  - Navigation logic
  - AI feature integration
  - Event handling
  - Toast notifications

### Database (db/)

- **database.js**:
  - SQLite operations using better-sqlite3
  - Tables: bookmarks, history, settings, ai_conversations
  - CRUD operations
  - Query helpers

### Backend (backend/)

- **main.py**:
  - FastAPI application
  - Claude Sonnet 4.5 integration
  - Endpoints: /askAI, /summary, /analyze, /health
  - Error handling

- **requirements.txt**:
  - Python dependencies
  - FastAPI, Anthropic SDK, Uvicorn, etc.

- **venv/**:
  - Isolated Python environment
  - Auto-created by setup scripts

### Assets (assets/)

- Application icons for different platforms
- Replace with your custom icons

### Build Output (dist/)

Generated by `npm run build`:
- Windows: .exe installer (NSIS)
- macOS: .dmg disk image
- Linux: .AppImage, .deb packages

## 🔄 Data Flow

```
┌─────────────────────────────────────────────────────────────┐
│                        USER INTERFACE                        │
│                     (renderer/index.html)                    │
└──────────────────────────┬──────────────────────────────────┘
                           │
                           │ User Actions
                           ▼
┌─────────────────────────────────────────────────────────────┐
│                       RENDERER PROCESS                       │
│                     (renderer/renderer.js)                   │
│  • Handle UI events                                          │
│  • Tab management                                            │
│  • Call IPC methods                                          │
└──────────────────────────┬──────────────────────────────────┘
                           │
                           │ IPC Communication
                           ▼
┌─────────────────────────────────────────────────────────────┐
│                        PRELOAD SCRIPT                        │
│                       (preload.js)                           │
│  • Secure IPC bridge                                         │
│  • Expose limited APIs                                       │
└──────────────────────────┬──────────────────────────────────┘
                           │
                           │ IPC Handlers
                           ▼
┌─────────────────────────────────────────────────────────────┐
│                        MAIN PROCESS                          │
│                         (main.js)                            │
│  • Window management                                         │
│  • IPC handlers                                              │
│  • Database operations ──────┐                               │
│  • Backend API calls         │                               │
└──────────────────────────────┼───────────────────────────────┘
                               │                │
                ┌──────────────┘                └──────────────┐
                ▼                                              ▼
┌───────────────────────────┐              ┌──────────────────────────┐
│       DATABASE            │              │    FASTAPI BACKEND       │
│    (db/database.js)       │              │   (backend/main.py)      │
│  • SQLite storage         │              │  • Claude API calls      │
│  • Bookmarks, History     │              │  • AI processing         │
│  • Settings, Logs         │              │  • Content analysis      │
└───────────────────────────┘              └────────────┬─────────────┘
                                                        │
                                                        │ API Calls
                                                        ▼
                                           ┌──────────────────────────┐
                                           │    ANTHROPIC API         │
                                           │  (Claude Sonnet 4.5)     │
                                           │  • Question answering    │
                                           │  • Summarization         │
                                           │  • Content analysis      │
                                           └──────────────────────────┘
```

## 🔐 Security Architecture

```
┌──────────────────────────────────────┐
│    Renderer Process (Sandboxed)      │
│  • No direct Node.js access          │
│  • Context isolation enabled         │
│  • Limited IPC access via preload    │
└──────────────────────────────────────┘
                  ▲
                  │ Controlled API
                  │
┌──────────────────────────────────────┐
│         Preload Script               │
│  • Whitelist safe functions          │
│  • No arbitrary code execution       │
└──────────────────────────────────────┘
                  ▲
                  │ Full Node.js access
                  │
┌──────────────────────────────────────┐
│         Main Process                 │
│  • Database operations               │
│  • File system access                │
│  • External API calls                │
└──────────────────────────────────────┘
```

## 📊 Database Schema

```sql
-- Bookmarks
CREATE TABLE bookmarks (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  title TEXT NOT NULL,
  url TEXT NOT NULL UNIQUE,
  created_at INTEGER DEFAULT (strftime('%s', 'now'))
);

-- History
CREATE TABLE history (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  title TEXT NOT NULL,
  url TEXT NOT NULL,
  visited_at INTEGER DEFAULT (strftime('%s', 'now'))
);

-- Settings
CREATE TABLE settings (
  key TEXT PRIMARY KEY,
  value TEXT NOT NULL,
  updated_at INTEGER DEFAULT (strftime('%s', 'now'))
);

-- AI Conversations
CREATE TABLE ai_conversations (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  question TEXT NOT NULL,
  answer TEXT NOT NULL,
  context TEXT,
  created_at INTEGER DEFAULT (strftime('%s', 'now'))
);
```

---

**Note**: This structure follows best practices for Electron + FastAPI applications with proper separation of concerns and security measures.
